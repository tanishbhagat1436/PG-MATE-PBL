<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PG Mate - Find Your PG</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Google Fonts Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet" />
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo-box">
      <span class="pg-text">PG</span><span class="mate-text">Mate</span>
    </div>
    <nav class="nav-links">
      <a href="features.html">Features</a>
      <a href="about.html">About Us</a>
      <a href="contact.html">Contact</a>
    </nav>
    <div id="auth-area">
      <a href="auth.html" class="btn login-btn">Login / Signup</a>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-left">
      <h1>Find Your Perfect PG Near You</h1>
      <p>Simple, quick, and easy PG booking for students and working professionals.</p>
      <a href="auth.html" class="btn explore-btn">Explore Now</a>
    </div>
    <div class="hero-right photo-container">
      <img src="Display img.jpeg" alt="People entering PG with bags" />
    </div>
  </section>

  <!-- Firebase Auth Integration -->
  <script type="module">
    // Import Firebase SDKs
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
    import { 
      getAuth, 
      onAuthStateChanged, 
      signOut 
    } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";

    // ðŸ”¹ Firebase Config (fixed storageBucket ðŸ‘‡)
    const firebaseConfig = {
      apiKey: "AIzaSyBRuD7eTDNphi4xiMAMVm5S6KUS7X4N5eg",
      authDomain: "pg-mate-efda5.firebaseapp.com",
      projectId: "pg-mate-efda5",
      storageBucket: "pg-mate-efda5.appspot.com",   // âœ… FIXED
      messagingSenderId: "764445496080",
      appId: "1:764445496080:web:24f07c03a4c2926d624b95",
      measurementId: "G-S692YPLXQP"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // ðŸ”¹ Check login status
    const authArea = document.getElementById("auth-area");

    onAuthStateChanged(auth, (user) => {
      if (user) {
        // If logged in â†’ show email + logout button
        authArea.innerHTML = `
          <span style="color:white; margin-right:15px;">${user.email}</span>
          <button id="logoutBtn" class="btn login-btn">Logout</button>
        `;
        document.getElementById("logoutBtn").addEventListener("click", () => {
          signOut(auth).then(() => {
            alert("Logged out successfully!");
            window.location.href = "auth.html";
          });
        });
      } else {
        // If not logged in â†’ show login button
        authArea.innerHTML = `<a href="auth.html" class="btn login-btn">Login / Signup</a>`;
      }
    });
  </script>
</body>
</html>
